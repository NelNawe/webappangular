<div class="profile-container">
    <h2>My Profile</h2>

    <!-- Display User Profile data -->
    <div class="card">
        <div class="row">
            <div class="label">Name : </div>
            <div class="value">{{profile?.name}}</div>
        </div>
        <div class="row">
            <div class="label">Email : </div>
            <div class="value">{{profile?.email}}</div>
        </div>
        <div class="actions">
            <button class="btn primary" (click)="openUpdateModal()">Update</button>
            <button class="btn danger" (click)="openDeleteModal()">Delete</button>
        </div>
    </div>

    <div class="modal-backdrop" *ngIf="showUpdateModal">
    <div class="modal">
        <div class="modal-header">
        <h3>Update Profile</h3>
        <button class="icon" aria-label="Close" (click)="closeUpdateModal()">✕</button>
        </div>
        <form [formGroup]="updateForm" (ngSubmit)="submitUpdate()" class="modal-body">
        <label>
            <span>Name</span>
            <input type="text" formControlName="name" />
        </label>
        <div class="error" *ngIf="updateForm.get('name')?.invalid && updateForm.get('name')?.touched">
            Name is required
        </div>

        <label>
            <span>Email</span>
            <input type="email" formControlName="email" />
        </label>
        <div class="error" *ngIf="updateForm.get('email')?.invalid && updateForm.get('email')?.touched">
            Valid email is required
        </div>

        <label>
            <span>New Password (optional)</span>
            <input type="password" formControlName="password" />
        </label>

        <div class="modal-actions">
            <button type="button" class="btn" (click)="closeUpdateModal()">Cancel</button>
            <button type="submit" class="btn primary">'Save'</button>
        </div>
        </form>
    </div>
    </div>

    <div class="modal-backdrop" *ngIf="showDeleteModal">
    <div class="modal">
        <div class="modal-header">
        <h3>Delete Account</h3>
        <button class="icon" aria-label="Close" (click)="closeDeleteModal()">✕</button>
        </div>
        <div class="modal-body">
        <p>Are you sure you want to permanently delete your account?</p>
        <div class="modal-actions">
            <button class="btn" (click)="closeDeleteModal()">Cancel</button>
            <button class="btn danger" (click)="confirmDelete()">'Delete'</button>
        </div>
        </div>
    </div>
    </div>

</div>